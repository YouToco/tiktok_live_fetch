# Git 提交流程规范

## 分支策略 🚦
- `main` 用于可发布版本，禁止直接提交，只允许通过合并请求进入。
- 功能开发统一使用 `feature/<简要描述>`，修复缺陷使用 `fix/<简要描述>`，一次性脚本或实验使用 `chore/<简要描述>`。
- 合并前必须确保分支与 `main` 同步（rebase 或 merge 均可），避免产生不必要的冲突历史。

## 提交粒度 📏
- 每个提交只解决一个清晰问题：功能、修复、配置或文档更新等。
- 避免超过 300 行的大提交，若不可拆分需在描述中说明原因。
- 提交前确认通过必要的测试/格式化，确保仓库保持可运行状态。

## 提交信息模板 🧱
```
<emoji> <type>(<scope>): <summary>

[可选正文，描述动机、方案、影响范围]
[可选附注，例如：BREAKING CHANGE、Fixes #123]
```

- 每条提交信息需以能代表本次改动性质的 emoji 开头（如 ✨ 对应新特性、🐛 对应缺陷修复、🛠️ 对应 chore/重构），emoji 与文本之间保留一个空格。
- `type` 取值建议：`feat`、`fix`、`docs`、`style`、`refactor`、`perf`、`test`、`build`、`ci`、`chore`。
- `scope` 使用模块或目录名，例如 `collector`、`app`、`docs`；若不明确可省略括号。
- `summary` ≤ 50 个字符，使用祈使句，必须使用中文（例：`✨ feat(app): 增加验证码接口`）。

## 合并/评审 🔍
- 提交合并请求前自检：lint、单测、关键路径手动验证。
- 评审意见解决后若需追加修改，优先使用 `git commit --amend` 或 `fixup` 保持历史干净；只在必要时追加新 commit。
- 禁止在评审通过后再 force push 改写历史，除非 reviewer 确认。

## 标签与版本 🏷️
- 遵循语义化版本号：`MAJOR.MINOR.PATCH`。
- 只有在 `main` 上创建 tag，并确保对应提交已通过完整回归。

## 其他约定 📜
- 不向仓库提交本地配置、密钥、生成物；必要时更新 `.gitignore`。
- 需要回滚时使用 `revert` 提交，保持可追踪性。

## 沟通与语言 🗣️
- 文档、注释、Issue/PR 描述和评审反馈默认使用中文。
- 终端输出、日志与代码字符串按业务场景决定语言，但能用中文时优先中文。
- 面向用户或团队的讨论、演示、语音讲解尽量用中文，确保信息一致。

